<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  
  <script></script>
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
  <title>parcial 2</title>

  
</head><body>
<h1>Inserte Palabra</h1>

<input id="palabra" name="palabra" onkeyup="EnableDisable()" type="text">
<input id="startgame" value="Iniciar" onclick="startgame()" name="startgame" disabled="disabled" type="button"><br>

<img alt="ahorcado" style="width: 480px; height: 360px;" id="imagedisplay" src="img/1.png">
<br>

<h2 class="hw" id="hidenword"> </h2>

<p>Inserta una letra</p>

<input id="letra" name="letra" onkeyup="EnableDisable1()" disabled="disabled" maxlength="1" type="text">
<input id="buscar" value="Buscar" onclick="buscarletra()" name="buscarletra" disabled="disabled" type="button">
<h1 class="wol" id="wol"> </h1>

<script>
var resultado=0;
let gameword="";
let palabraj="";
let gamewordaux="";
var letraj="";
var errores=1;
function EnableDisable() {
	var startgame=document.getElementById("startgame");
		
	if (palabra.value.trim() !="") {
		startgame.disabled=false;
	} else {
		startgame.disabled=true;
	}
}
function EnableDisable1() {
	var buscarletra=document.getElementById("buscar");
	
	if (letra.value.trim() !="") {
		buscar.disabled=false;
	} else {
		buscar.disabled=true;
	}
}
function startgame(){
	palabraj = document.getElementById("palabra").value;
	startgame.disabled=true;
	palabra.value="";
	palabra.disabled=true;
	letra.disabled=false;
	resultado=0;
	gameword="";
	gamewordaux="";
	letraj="";
	errores=1;
	document.getElementById("imagedisplay").src = "img/1.png";
	document.getElementById("wol").innerHTML = ""
	for(let hiden in palabraj) {
		gameword+="*";
	}
	document.getElementById("hidenword").innerHTML = gameword;
	
}
function buscarletra(){
	if (errores<8){
		gamewordaux=gameword;
		letraj = document.getElementById("letra").value;
		for (var i=0; i<palabraj.length; i++) {
			if (palabraj[i]===letraj){
				gameword=gameword.replaceAt(i,letraj);
			}
		}
		if (gameword===gamewordaux){
			errores=errores+1;
			document.getElementById("imagedisplay").src = "img/"+errores+".png";
		}
		document.getElementById("hidenword").innerHTML = gameword;
		if (gameword===palabraj+"*"){
			resultado=1;
		}
	} else if (errores===8) {
		resultado=2;
	}
	if (resultado===1){
		document.getElementById("wol").innerHTML = "Ganaste :)"
		buscar.disabled=true;
		palabra.disabled=false;
		letra.disabled=true;
		
	} else if (resultado===2){
		document.getElementById("wol").innerHTML = "Perdiste :("
		buscar.disabled=true;
		palabra.disabled=false;
		letra.disabled=true;
	}
}

String.prototype.replaceAt = function(index, replacement) {
    return this.substr(0, index) + replacement + this.substr(index + replacement.length);
}
</script>
</body></html>